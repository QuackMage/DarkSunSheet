/* --- globals --- */
:root {
  --paper:#f7f3ea;
  --ink:#1e1b16;
  --line:#5b5245;
  --accent:#8b5e34;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
  background:var(--paper);
  color:var(--ink);
  font:14px/1.2 "Special Elite","Schoolbell",system-ui,sans-serif;
  overflow:hidden; /* prevent outer scroll */
}

/* top bars */
.gm-bar,.player-bar{
  display:flex;align-items:center;gap:8px;padding:6px 8px;
  border-bottom:1px solid #0002;background:#efe8d9;
}
.gm-bar{border-top:3px solid var(--accent)}
.tabs{display:flex;gap:6px;flex-wrap:wrap}
.tabs button{border:1px solid #0003;background:#fff8;padding:4px 8px;border-radius:6px;cursor:pointer}
.tabs button.active{background:#fff;border-color:var(--accent)}
.spacer{flex:1}
.primary,.ghost{border:1px solid #0003;background:#fff;padding:5px 10px;border-radius:6px;cursor:pointer}
.ghost{background:transparent}

/* SHEET GRID â€” sized to fit a 900x540 popover without scroll */
.sheet{
  height:calc(100% - 76px); /* top bars ~76px total */
  padding:10px;
  display:grid;
  grid-template-rows: 78px 120px 96px 1fr 54px; /* header, abilities, combat, columns, saves */
  gap:10px;
}

/* HEADER */
.head{
  display:grid;
  grid-template-columns: auto 1fr auto 1fr auto 80px auto 100px auto;
  grid-auto-rows: 32px;
  align-items:center;
  column-gap:8px; row-gap:6px;
  position:relative;
}
.head .text,
.head .num,
.head .sm{
  border:1px solid var(--line);
  background:#ffffffcc;
  border-radius:6px;
  padding:6px 8px;
}
.head .grow{width:100%}
.head .sm{width:100%}
.head label{opacity:.85}
.head .head-actions{
  position:absolute; right:0; top:0;
  display:flex; gap:6px;
}

/* ABILITIES ROW (6 blocks) */
.abilities{
  display:grid; grid-template-columns: repeat(6, 1fr); gap:10px;
}
.abl{
  background:#fff2; border:1px solid #0002; border-radius:10px;
  padding:6px; display:grid;
  grid-template-rows: 18px 56px 38px 20px; align-items:center; justify-items:center;
}
.abl .title{font-size:12px; letter-spacing:.4px}
.abl .score{
  width:78px; height:56px; text-align:center; font-size:20px;
  border:2px solid var(--line); background:#fff; border-radius:10px;
}
.abl .mod{
  width:56px; height:38px; text-align:center; font-size:18px;
  border:2px solid var(--line); background:#fff; border-radius:999px;
}
.abl .tick input{width:14px; height:14px}

/* COMBAT STRIP (6 cells) */
.combat{
  display:grid; grid-template-columns: repeat(6, 1fr); gap:10px;
}
.combat .stat{
  border:1px solid #0002; border-radius:10px; background:#fff2;
  padding:6px; display:grid; grid-template-rows: 18px 1fr; align-items:center;
}
.combat .title{font-size:12px; letter-spacing:.4px; text-align:center}
.combat .big{
  width:100%; height:36px; text-align:center; font-size:18px;
  border:2px solid var(--line); background:#fff; border-radius:10px;
}

/* THREE COLUMNS */
.cols{
  display:grid; grid-template-columns: repeat(3, 1fr); gap:12px;
}
.cols .col{
  display:grid; grid-template-rows: 18px 1fr; gap:6px;
}
.cols .title{font-size:12px; letter-spacing:.4px; text-align:center}
.cols textarea{
  resize:none; width:100%; height:100%;
  border:1px solid var(--line); border-radius:10px; padding:8px; background:#fff;
  line-height:1.25;
}

/* SAVES STRIP */
.saves{
  display:grid; grid-template-columns: repeat(4, 1fr); gap:10px;
  background:#948a7c; border-radius:8px; padding:6px 8px;
}
.save{display:flex; align-items:center; gap:6px; justify-content:center}
.save .label{color:#fff; font-weight:600; letter-spacing:.4px}
.save .box{
  width:58px; height:26px; text-align:center; font-size:16px;
  border:2px solid #ddd; border-radius:6px; background:#fff;
}

/* inputs general */
input[type="text"], input[type="number"], textarea {
  color:var(--ink);
}

/* prevent inner scrollbars from appearing on short popovers */
textarea::-webkit-resizer { display:none }
