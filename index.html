<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Dark Sun Sheet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Optional “pencil” fonts; safe fallbacks included -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Special+Elite&family=Schoolbell&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <!-- GM bar (auto-hidden for players by JS) -->
  <div id="gm-bar" class="gm-bar" hidden>
    <div id="gm-tabs" class="tabs"></div>
    <div class="spacer"></div>
    <button id="gm-refresh" class="ghost">Refresh</button>
  </div>

  <!-- Player bar: tabs + new/import -->
  <div id="player-bar" class="player-bar">
    <div id="player-tabs" class="tabs"></div>
    <div class="spacer"></div>
    <button id="btn-new" class="primary">New Character</button>
    <button id="btn-import" class="ghost">Import</button>
    <input id="import-file" type="file" accept="application/json" hidden />
  </div>

  <!-- SHEET GRID (fixed size; no outer scrolling) -->
  <form id="sheet" class="sheet" autocomplete="off">
    <!-- HEADER -->
    <div class="head grid">
      <label>Name:</label><input class="text grow" data-key="name" />
      <label>Race:</label><input class="text grow" data-key="race" />
      <label>Class:</label><input class="text grow" data-key="class" />
      <label>Level:</label><input class="num sm" data-key="level" inputmode="numeric" />
      <label>SP:</label>
      <input class="text sm" data-key="sp" placeholder="0 / 0" />
      <div class="head-actions">
        <button id="btn-save" type="button" class="ghost">Save</button>
        <button id="btn-export" type="button" class="ghost">Export</button>
      </div>
    </div>

    <!-- ABILITIES ROW -->
    <div class="abilities">
      <!-- one block per ability -->
      <div class="abl">
        <div class="title">STRENGTH</div>
        <input class="score" data-key="str" inputmode="numeric" />
        <input class="mod" data-key="str_mod" inputmode="numeric" />
        <label class="tick"><input type="checkbox" data-key="str_chk" /></label>
      </div>
      <div class="abl">
        <div class="title">DEXTERITY</div>
        <input class="score" data-key="dex" inputmode="numeric" />
        <input class="mod" data-key="dex_mod" inputmode="numeric" />
        <label class="tick"><input type="checkbox" data-key="dex_chk" /></label>
      </div>
      <div class="abl">
        <div class="title">CONSTITUTION</div>
        <input class="score" data-key="con" inputmode="numeric" />
        <input class="mod" data-key="con_mod" inputmode="numeric" />
        <label class="tick"><input type="checkbox" data-key="con_chk" /></label>
      </div>
      <div class="abl">
        <div class="title">INTELLIGENCE</div>
        <input class="score" data-key="int" inputmode="numeric" />
        <input class="mod" data-key="int_mod" inputmode="numeric" />
        <label class="tick"><input type="checkbox" data-key="int_chk" /></label>
      </div>
      <div class="abl">
        <div class="title">WISDOM</div>
        <input class="score" data-key="wis" inputmode="numeric" />
        <input class="mod" data-key="wis_mod" inputmode="numeric" />
        <label class="tick"><input type="checkbox" data-key="wis_chk" /></label>
      </div>
      <div class="abl">
        <div class="title">CHARISMA</div>
        <input class="score" data-key="cha" inputmode="numeric" />
        <input class="mod" data-key="cha_mod" inputmode="numeric" />
        <label class="tick"><input type="checkbox" data-key="cha_chk" /></label>
      </div>
    </div>

    <!-- COMBAT + SAVES (icons suggested by shapes) -->
    <div class="combat">
      <div class="stat">
        <div class="title">MAX HP</div>
        <input class="big" data-key="hp_max" inputmode="numeric" />
      </div>
      <div class="stat">
        <div class="title">CURRENT HP</div>
        <input class="big" data-key="hp_cur" inputmode="numeric" />
      </div>
      <div class="stat">
        <div class="title">ARMOUR CLASS</div>
        <input class="big" data-key="ac" inputmode="numeric" />
      </div>
      <div class="stat">
        <div class="title">SPEED</div>
        <input class="big" data-key="speed" inputmode="numeric" />
      </div>
      <div class="stat">
        <div class="title">INITIATIVE</div>
        <input class="big" data-key="init" inputmode="numeric" />
      </div>
      <div class="stat">
        <div class="title">PSIONIC THROWS</div>
        <input class="big" data-key="psionic" inputmode="numeric" />
      </div>
    </div>

    <!-- THREE COLUMNS -->
    <div class="cols">
      <div class="col">
        <div class="title">ATTACKS &amp; SPELLS</div>
        <textarea data-key="attacks"></textarea>
      </div>
      <div class="col">
        <div class="title">INVENTORY</div>
        <textarea data-key="inventory"></textarea>
      </div>
      <div class="col">
        <div class="title">TRAITS AND NOTES</div>
        <textarea data-key="notes"></textarea>
      </div>
    </div>

    <!-- SAVES STRIP -->
    <div class="saves">
      <div class="save"><div class="label">FORTITUDE:</div><input class="box" data-key="save_fort" inputmode="numeric" /></div>
      <div class="save"><div class="label">REFLEX:</div>   <input class="box" data-key="save_ref"  inputmode="numeric" /></div>
      <div class="save"><div class="label">WILL:</div>     <input class="box" data-key="save_will" inputmode="numeric" /></div>
      <div class="save"><div class="label">DEATH:</div>    <input class="box" data-key="save_death"inputmode="numeric" /></div>
    </div>
  </form>

  <script type="module" src="./main.js"></script>
</body>
</html>
